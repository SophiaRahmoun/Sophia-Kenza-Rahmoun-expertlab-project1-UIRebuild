# Villo Brussels - Backend API

This is the backend for my personal rebuild of the **Villo Brussels** bike app.  
It was created as part of my Expertlab course at Erasmushogeschool Brussel, where I chose to specialize as a Software Engineer - iOS Developer.

The goal of this project is to rebuild the original app from scratch, with authentication, user preferences, and data tracking.

## FRONTEND

## ðŸ”§ Tech Stack

- **Node.js**
- **Express**
- **MongoDB**
- **Mongoose**
- **JWT** (JSON Web Tokens)
- **Dotenv**
- **CORS**

## âœ¨ Features

- User Registration (`/api/auth/register`)
- User Login with Token (`/api/auth/login`)
- Auth Middleware with JWT
- Get User Favorites (`/api/favorites`)
- Add to Favorites (POST)
- Save History (bike usage) (`/api/history`)
- See Subscription Info (`/api/subscription`)
- All protected routes require a valid token

## ðŸ“ Folder Structure

back-end/
â”œâ”€â”€ controllers/
â”‚ â””â”€â”€ authController.js
â”œâ”€â”€ middleware/
â”‚ â””â”€â”€ verifyToken.js
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ User.js
â”‚ â”œâ”€â”€ Favorite.js
â”‚ â”œâ”€â”€ History.js
â”œâ”€â”€ routes/
â”‚ â”œâ”€â”€ authRoutes.js
â”‚ â”œâ”€â”€ favoritesRoutes.js
â”‚ â”œâ”€â”€ historyRoutes.js
â”‚ â””â”€â”€ subscriptionRoutes.js
â”œâ”€â”€ .env
â”œâ”€â”€ index.js
â””â”€â”€ package.json

## ðŸš€ How to Use

1. Clone the repo:

   ```bash
   git clone https://github.com/yourusername/villo-backend.git
   cd villo-backend

   ```

2. Install dependencies

   > npm install

3. Create a .env file
   MONGO_URI=your_mongo_connection_string
   JWT_SECRET=your_secret_key
   PORT=4000

4. Start server

   > npm run dev

5. Test API with POSTMAN
   â€¢ Register: POST /api/auth/register
   â€¢ Login: POST /api/auth/login
   â€¢ Use returned token (Bearer) to access protected routes

## Why this project?

In Expertlab, I wanted to challenge myself by becoming more independent in backend development.
Building this backend helped me:
â€¢ Understand how Express and MongoDB work together
â€¢ Learn about tokens and security
â€¢ Make my iOS app more dynamic and personalized

## ðŸ“š Sources

- https://www.w3schools.com/nodejs/nodejs_api_auth.asp â€” used for auth in Node
- https://dvmhn07.medium.com/jwt-authentication-in-node-js-a-practical-guide-c8ab1b432a49 used to understand how to work with tokens
- https://stackoverflow.com/questions/61401475/why-is-type-module-in-package-json-file â€” used to debug error with type: "module"
- https://singh-sandeep.medium.com/best-practices-for-using-cors-in-node-js-a-complete-guide-3fc7974b39be â€” used to understand CORS best practices
- https://www.w3schools.com/nodejs/nodejs_middleware.asp â€” used to understand middleware and how to apply it
- https://www.youtube.com/watch?v=dLxCpd3IGys â€” used to implement JWT tokens in Postman
- https://stackoverflow.com/questions/12481639/remove-file-from-latest-commit â€” used to remove .env from GitHub
- https://www.youtube.com/watch?v=TrLMm4BCdlg â€” used to apply ESM syntax
- https://www.geeksforgeeks.org/node-js/how-to-create-and-verify-jwts-with-node-js/ â€” used to verify token
- Copilot : used for overall bug fixes and code suggestions throughout development
